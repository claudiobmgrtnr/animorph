<script src="../dist/index.js"></script>
<link rel="stylesheet" href="stylesheets/styles-two-steps.css">

<h1>Demo</h1>

<ul class="left">
  <li class="js-element element element--golden">Element 1</li>
  <li class="js-element element element--golden">Element 2</li>
  <li class="js-element element element--golden">Element 3</li>
  <li class="js-element element element--golden">Element 4</li>
  <li class="js-element element element--golden">Element 5</li>
</ul>

<ul class="right">

</ul>

<div class="controls">
  <a class="remove" href="javascript:;">Remove element</a>
  <a class="add" href="javascript:;">Add element</a>
</div>
<script>
  document.querySelector(".left").addEventListener("click",function(e) {
    // e.target was the clicked element
    if (e.target && e.target.matches("li.js-element")) {
      animorph.appendTo(document.querySelectorAll(".left li"), document.querySelector('.right'), {
        addClasses: ['element--green'],
        removeClasses: ['element--golden']
      }).then(function() {
        var collection = [];
        var li = document.createElement("li");
        li.className = "js-element element element--green";
        li.innerHTML = "Element";
        for (var i = 0; i < 7; i++) {
          var li = document.createElement("li");
          li.className = "js-element element element--green";
          li.innerHTML = "Element "+i;
          collection[i] = li
        }
        animorph.appendTo(collection, document.querySelector('.left'));
      });
    }
  });
  document.querySelector(".right").addEventListener("click",function(e) {
    // e.target was the clicked element
    if (e.target && e.target.matches("li.js-element")) {
      animorph.prependTo(e.target, document.querySelector('.left'), {
        addClasses: ['element--golden'],
        removeClasses: ['element--green']
      });
    }
  });

  document.querySelector(".remove").addEventListener("click",function(e) {
    animorph.remove(document.querySelector("li.js-element"));
  });

  document.querySelector(".add").addEventListener("click",function(e) {
    var li = document.createElement("li");
    li.className = "js-element element element--green";
    li.innerHTML = "Element"
    animorph.prependTo(li, document.querySelector('.right'));
  });
</script>